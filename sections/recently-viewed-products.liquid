{%- capture section_data -%}
	{
		"id": {{- section.id | json -}},
		"type": "recently-viewed-products",
		"settings": {{- section.settings | json -}},
		"blocks": {{- section.blocks | json -}}
	}
{%- endcapture -%}

{%- assign enable_section = section.settings.enable_section -%}

{%- if enable_section -%}
	<div
		id="recently-viewed-products-{{- section.id -}}"
		data-section-id="{{- section.id -}}"
		data-section-type="recently-viewed-products"
	>
		<script type="application/json" data-section-data>{{- section_data -}}</script>
	</div>
{%- endif -%}

{%- schema -%}
	{
		"name": "Recently viewed products",
		"settings": [
			{
				"type": "checkbox",
				"id": "enable_section",
				"label": "Show section",
				"default": true
			},
			{
				"type": "text",
				"id": "title",
				"label": "Heading",
				"default": "Recently Viewed"
			}
		],
		"templates": [
			"product"
		]
	}
{%- endschema -%}
