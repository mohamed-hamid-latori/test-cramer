{%- assign enable_recommendations 	= section.settings.enable_recommendations -%}
{%- assign nosto_section_id 		= section.settings.nosto_section_id -%}
{%- assign title 					= section.settings.title -%}

{%- if enable_recommendations == true and nosto_section_id != blank -%}
	<div
		id="cart-recommendations-{{- section.id -}}"
		data-section-id="{{- section.id -}}"
		data-section-type="cart-recommendations"
		class="cart-recommendations hidden"
		data-nosto-section-id="{{- nosto_section_id -}}"
	>
		<div class="container cart-recommendations__container">
			<h2 class="section-title cart-recommendations__title" data-cart-recommendations-title>
				{{- title -}}
			</h2>

			{% comment %}
				<div class="nosto_element hidden" id="{{ nosto_section_id }}"></div>
			{% endcomment %}
		</div>

		<div class="cart-recommendations__content cart-recommendations__content--desktop">
			<div class="container container--full-width container--no-padding">
				<div class="slider cart-recommendations__slider">
					<div class="swiper-container slider__container cart-recommendations__slider-container" data-cart-recommendations-slider>
						<div class="swiper-wrapper slider__wrapper" data-cart-recommendations-slider-wrapper></div>

						<button class="slider__arrow slider__arrow--prev" data-slider-arrow data-slider-arrow-prev>
							{%- render 'icon-chevron' -%}
						</button>

						<button class="slider__arrow slider__arrow--next js-slider-arrow-next" data-slider-arrow data-slider-arrow-next>
							{%- render 'icon-chevron' -%}
						</button>

						<div class="slider__pagination" data-slider-pagination></div>
					</div>
				</div>
			</div>
		</div>

		<div class="cart-recommendations__content cart-recommendations__content--mobile">
			<div class="container cart-recommendations__container">
				<div class="cart-recommendations__cards" data-cart-recommendations-cards></div>
			</div>
		</div>
	</div>
{%- endif -%}

{% schema %}
{
	"name": "Cart recommendations",
	"settings": [
		{
			"type": "checkbox",
			"id": "enable_recommendations",
			"label": "Enable Nosto recommendations",
			"default": false
		},
		{
			"type": "text",
			"id": "nosto_section_id",
			"label": "Nosto recommendations section ID",
			"default": "cartpage-nosto-4"
		},
		{
			"type": "text",
			"id": "title",
			"label": "Heading",
			"default": "You may also like"
		}
	]
}
{% endschema %}
