{%- assign enable_nosto_section = section.settings.enable_nosto_section -%}
{%- assign nosto_section_id 	= section.settings.nosto_section_id -%}
{%- assign title 				= section.settings.title -%}

{%- if enable_nosto_section == true and nosto_section_id != blank -%}
	<div
		id="product-recommendations-{{- section.id -}}"
		data-section-id="{{- section.id -}}"
		data-section-type="product-recommendations"
		class="product-recommendations hidden"
		data-nosto-section
		data-nosto-section-id="{{- nosto_section_id -}}"
	>
		<div class="container container--full-width product-recommendations__container">
			<h2 class="section-title section-title--small product-recommendations__title" data-nosto-title>
				{{ title }}
			</h2>
		</div>

		<div class="container container--full-width container--no-padding">
			{% comment %}
				<div class="nosto_element hidden" id="{{ nosto_section_id }}"></div>
			{% endcomment %}

			<div class="slider slider--arrows-inverse product-recommendations__slider">
				<div class="swiper-container slider__container product-recommendations__slider-container" data-nosto-slider>
					<div class="swiper-wrapper slider__wrapper" data-nosto-slider-wrapper></div>

					<button class="slider__arrow slider__arrow--prev" data-slider-arrow data-slider-arrow-prev>
						{%- render 'icon-chevron' -%}
					</button>

					<button class="slider__arrow slider__arrow--next js-slider-arrow-next" data-slider-arrow data-slider-arrow-next>
						{%- render 'icon-chevron' -%}
					</button>

					<div class="slider__pagination" data-slider-pagination></div>
				</div>
			</div>
		</div>
	</div>
{%- endif -%}

{% schema %}
{
	"name": "Product recommendations",
	"settings": [
		{
			"type": "checkbox",
			"id": "enable_nosto_section",
			"label": "Enable Nosto section",
			"default": true
		},
		{
			"type": "text",
			"id": "nosto_section_id",
			"label": "Nosto section ID",
			"default": "productpage-nosto-5"
		},
		{
			"type": "text",
			"id": "title",
			"label": "Heading",
			"default": "You May Also Like"
		}
	],
	"presets": [
		{
			"name": "Product recommendations"
		}
	]
}
{% endschema %}
